//Deobfuscated with https://github.com/SimplyProgrammer/Minecraft-Deobfuscator3000 using mappings "C:\1.12.2"!

/*
 * Decompiled with CFR 0.152.
 * 
 * Could not load the following classes:
 *  net.minecraft.network.Packet
 *  net.minecraft.network.play.client.CPacketConfirmTeleport
 *  net.minecraft.network.play.client.CPacketPlayer
 *  net.minecraft.network.play.client.CPacketPlayer$Position
 *  net.minecraft.network.play.client.CPacketPlayer$PositionRotation
 *  net.minecraftforge.fml.common.eventhandler.EventPriority
 *  net.minecraftforge.fml.common.eventhandler.SubscribeEvent
 */
package cascade.features.modules.exploit;

import cascade.event.events.PacketEvent;
import cascade.features.modules.Module;
import java.util.Random;
import net.minecraft.network.Packet;
import net.minecraft.network.play.client.CPacketConfirmTeleport;
import net.minecraft.network.play.client.CPacketPlayer;
import net.minecraftforge.fml.common.eventhandler.EventPriority;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;

public class HubTP
extends Module {
    int tpId = 0;

    public HubTP() {
        super("HubTP", Module.Category.EXPLOIT, "");
    }

    @Override
    public void onToggle() {
        this.tpId = 0;
    }

    @Override
    public void onUpdate() {
        if (HubTP.fullNullCheck() || HubTP.mc.player.dimension != -1 || HubTP.mc.player.posY >= 120.0) {
            this.disable();
            return;
        }
        mc.getConnection().sendPacket((Packet)new CPacketPlayer.Position(HubTP.mc.player.posX, (double)(new Random().nextInt(50) + 127), HubTP.mc.player.posY, HubTP.mc.player.onGround));
        mc.getConnection().sendPacket((Packet)new CPacketConfirmTeleport(this.tpId + 1));
        this.disable();
    }

    @SubscribeEvent(priority=EventPriority.HIGHEST)
    public void onPacketSend(PacketEvent.Send e) {
        if (HubTP.fullNullCheck() || this.isDisabled()) {
            return;
        }
        if (e.getPacket() instanceof CPacketPlayer.Position || e.getPacket() instanceof CPacketPlayer.PositionRotation) {
            ((CPacketPlayer)e.getPacket()).y += 0.3;
        }
        if (e.getPacket() instanceof CPacketConfirmTeleport) {
            CPacketConfirmTeleport p = (CPacketConfirmTeleport)e.getPacket();
            this.tpId = p.getTeleportId();
        }
    }
}

